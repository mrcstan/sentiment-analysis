str(file)
x <- list(foo = 1:4, bar = 0.6, baz = "hello")
c(1, 3)
x[c(1, 3)]
x[1]
x[3]
x[[1]]
x<-c(1,2,NA,4,NA,5)
> y <- c("a", "b", NA, "d", NA, NA)
> y <- c("a", "b", NA, "d", NA, "f")
> y<-c("a", "b", NA, "d", NA, "f")
y <- c("a", "b", NA, "d", NA, NA)
good <- complete.cases(x, y)
good
swirl()
library(swirl)
swirl()
swirl()
swirl()
help(pbeta)
qbeta(0.75, 2, 1)
q<-qbeta(0.75, 2, 1)
pbeta(q, 2, 1)
library(UsingR); data(galton); library(reshape); long <- melt(galton)
g <- ggplot(long, aes(x = value, fill = variable))
g <- g + geom_histogram(colour = "black", binwidth=1)
g <- g + facet_grid(. ~ variable)
g
print(g)
library(UsingR); data(galton); library(reshape); long <- melt(galton)
g <- ggplot(long, aes(x = value, fill = variable))
g <- g + geom_histogram(colour = "black", binwidth=1)
g <- g + facet_grid(. ~ variable)
g
data(galton)
long <- melt(galton)
par(mfrow=c(1,2))
hist(galton$child,col="blue",breaks=100)
hist(galton$parent,col="blue",breaks=100)
library(dplyr)
freqData <- as.data.frame(table(galton$child, galton$parent))
names(freqData) <- c("child", "parent", "freq")
freqData$child <- as.numeric(as.character(freqData$child))
freqData$parent <- as.numeric(as.character(freqData$parent))
g <- ggplot(filter(freqData, freq > 0), aes(x = parent, y = child))
g <- g  + scale_size(range = c(2, 20), guide = "none" )
g <- g + geom_point(colour="grey50", aes(size = freq+20, show_guide = FALSE))
g <- g + geom_point(aes(colour=freq, size = freq))
g <- g + scale_colour_gradient(low = "lightblue", high="white")
g
View(freqData)
a = table(galton$child, galton$parent)
head(a)
help(filter)
freqData <- as.data.frame(table(galton$child, galton$parent))
View(freqData)
b = filter(freqData, freq>0)
names(freqData) <- c("child", "parent", "freq")
b = filter(freqData, freq>0)
View(b)
library(UsingR)
data(galton)
library(dplyr)
freqData <- as.data.frame(table(galton$child, galton$parent))
names(freqData) <- c("child", "parent", "freq")
lm(I(child-mean(child))~I(parent-mean(parent))-1,data=galton)
a = I(child - mean(child)
head(A)
head(A)
head(a)
a = I(child - mean(child))
a = I(galton$child - mean(galton$child))
a
freqData <- as.data.frame(table(galton$child, galton$parent))
names(freqData) <- c("child", "parent", "freq")
freqData$child <- as.numeric(as.character(freqData$child))
freqData$parent <- as.numeric(as.character(freqData$parent))
g <- ggplot(filter(freqData, freq > 0), aes(x = parent, y = child))
g <- g  + scale_size(range = c(2, 20), guide = "none" )
g <- g + geom_point(colour="grey50", aes(size = freq+20, show_guide = FALSE))
g <- g + geom_point(aes(colour=freq, size = freq))
g <- g + scale_colour_gradient(low = "lightblue", high="white")
lm1 <- lm(galton$child ~ galton$parent)
g <- g + geom_abline(intercept = coef(lm1)[1], slope = coef(lm1)[2], size = 3, colour = grey(.5))
g
lm1 <- lm(galton$child ~ galton$parent)
g <- g + geom_abline(intercept = coef(lm1)[1], slope = coef(lm1)[2], size = 3, colour = grey(.5))
g
lm1 <- lm(galton$child ~ galton$parent)
g <- g + geom_abline(intercept = coef(lm1)[1], slope = coef(lm1)[2], size = 3, colour = grey(.5))
g
g =  geom_abline(intercept = coef(lm1)[1], slope = coef(lm1)[2], size = 3, colour = grey(.5))
g
freqData <- as.data.frame(table(galton$child, galton$parent))
names(freqData) <- c("child", "parent", "freq")
freqData$child <- as.numeric(as.character(freqData$child))
freqData$parent <- as.numeric(as.character(freqData$parent))
g <- ggplot(filter(freqData, freq > 0), aes(x = parent, y = child))
g <- g  + scale_size(range = c(2, 20), guide = "none" )
g <- g + geom_point(colour="grey50", aes(size = freq+20, show_guide = FALSE))
#g <- g + geom_point(aes(colour=freq, size = freq))
g <- g + scale_colour_gradient(low = "lightblue", high="white")
lm1 <- lm(galton$child ~ galton$parent)
g <- g + geom_abline(intercept = coef(lm1)[1], slope = coef(lm1)[2], size = 3, colour = grey(.5))
g
freqData <- as.data.frame(table(galton$child, galton$parent))
names(freqData) <- c("child", "parent", "freq")
freqData$child <- as.numeric(as.character(freqData$child))
freqData$parent <- as.numeric(as.character(freqData$parent))
g <- ggplot(filter(freqData, freq > 0), aes(x = parent, y = child))
g <- g  + scale_size(range = c(2, 20), guide = "none" )
#g <- g + geom_point(colour="grey50", aes(size = freq+20, show_guide = FALSE))
#g <- g + geom_point(aes(colour=freq, size = freq))
g <- g + scale_colour_gradient(low = "lightblue", high="white")
lm1 <- lm(galton$child ~ galton$parent)
g <- g + geom_abline(intercept = coef(lm1)[1], slope = coef(lm1)[2], size = 3, colour = grey(.5))
g
freqData <- as.data.frame(table(galton$child, galton$parent))
names(freqData) <- c("child", "parent", "freq")
freqData$child <- as.numeric(as.character(freqData$child))
freqData$parent <- as.numeric(as.character(freqData$parent))
g <- ggplot(filter(freqData, freq > 0), aes(x = parent, y = child))
g <- g  + scale_size(range = c(2, 20), guide = "none" )
g = g + geom_point()
#g <- g + geom_point(colour="grey50", aes(size = freq+20, show_guide = FALSE))
#g <- g + geom_point(aes(colour=freq, size = freq))
g <- g + scale_colour_gradient(low = "lightblue", high="white")
lm1 <- lm(galton$child ~ galton$parent)
g <- g + geom_abline(intercept = coef(lm1)[1], slope = coef(lm1)[2], size = 3, colour = grey(.5))
g
library(UsingR); data(galton); library(reshape); long <- melt(galton)
y = galton$child
x = galton$parent
beta1 <- cor(y, x) * sd(y)/sd(x)
beta0 = mean(y) - beta1*mean(x)
coef(lm(y ~ x))
x <- c(0.18, -1.54, 0.42, 0.95)
w <- c(2, 1, 3, 1)
y = x*w
y
mu = sum(x*w)/sum(w)
mu
x <- c(0.8, 0.47, 0.51, 0.73, 0.36, 0.58, 0.57, 0.85, 0.44, 0.42)
y <- c(1.39, 0.72, 1.55, 0.48, 1.19, -1.59, 1.23, -0.65, 1.49, 0.05)
sum(x*y)/sum(x^2)
x^2
sum(x*y)/sum(x^2)
data(mtcars)
mtcars
x = mtcars$wt
y = mtcars$mpg
coef(lm(y~x))
beta1 = cor(y, x)*sd(y)/sd(x)
beta1
0.4*1.5
x <- c(8.58, 10.46, 9.01, 9.64, 8.86)
(x - mean(x))/sd(x)
x <- c(0.8, 0.47, 0.51, 0.73, 0.36, 0.58, 0.57, 0.85, 0.44, 0.42)
y <- c(1.39, 0.72, 1.55, 0.48, 1.19, -1.59, 1.23, -0.65, 1.49, 0.05)
coef(lm(y~x))
x <- c(0.8, 0.47, 0.51, 0.73, 0.36, 0.58, 0.57, 0.85, 0.44, 0.42)
mean(x)
help(rnorm)
pnorm(0.5)
pnorm(0)
pnorm(1)
pnorm(1.33)
1-pnorma(6.9)
1-pnorm(6.9)
choose(4, 2)
qnorm(0.98)
qnorm(0.5)
qnorm(0.02)
qnorm(0.98)
qnorm(0.95)
qnorm(0.9)
c(1,8)
a = c(1,8)
a
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/my_cv.R')
setwd("~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis")
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/my_cv.R')
seq(from = 0.1, to = 0.00, by = -0.005)
cvs.lambdas = c(seq(from = 0.1, to = 0.005, by = -0.005), 0.002, 0.001)
cvs.lambdas
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/my_cv.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/my_cv.R')
install.packages(XGBoost)
install.packages('XGBoost')
install.packages('xgboost')
?xgboost
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
data(agaricus.train, package='xgboost')
dtrain <- xgb.DMatrix(agaricus.train$data, label = agaricus.train$label)
cv <- xgb.cv(data = dtrain, nrounds = 3, nthread = 2, nfold = 5, metrics = list("rmse","auc"),
max_depth = 3, eta = 1, objective = "binary:logistic")
print(cv)
print(cv, verbose=TRUE)
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/mymain.R')
?xgboost
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/evaluation/mymain.R')
setwd("~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/evaluation")
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/evaluation/mymain.R')
test_y_file = paste(data_dir, 'test_y.tsv', sep='/')
test.y = read.table(test_y_file, header = TRUE)
roc_pred = merge(output, test.y, by="id")
roc_obj = roc(roc_pred$sentiment, roc_pred$prob, plot = TRUE, print.auc = TRUE)
test_AUC = pROC::auc(roc_obj)
print(test_AUC)
View(dtm_train)
colnames(dtm_train)
dlm_train[1, :]
dlm_train[1, ]
dtm_train[1, ]
colnames(dtm_train)
colnames(dtm_train)[dlm_train[1, :] != 0]
colnames(dtm_train)[dlm_train[1, ] != 0]
colnames(dtm_train)[dtm_train[1, ] != 0]
colnames(dtm_test)[dlm_test[1, ] != 0]
colnames(dtm_test)[dtm_test[1, ] != 0]
max(dtm_test[1, ])
which.max(dtm_test[1, ])
colnames(dtm_test)[343[]
]
colnames(dtm_test)[343]
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/my_extract_vocab.R')
setwd("~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis")
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/my_extract_vocab.R')
which(neg.list == didn't)
''
which(neg.list == "didn't")
which(neg.list == "bad_movie")
which(pos.list == "didn't")
which(pos.list == "bad_movie")
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/evaluation/mymain.R')
setwd("~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/evaluation")
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/evaluation/mymain.R')
source('~/Library/Mobile Documents/com~apple~CloudDocs/0_MCS/STAT542 Practical Statistical Learning/Proj3 - Sentiment analysis/evaluation/evaluate.R')
